{"cells":[{"cell_type":"code","source":["pip install anaconda"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"maAo-14cVty3","executionInfo":{"status":"ok","timestamp":1661403443366,"user_tz":-330,"elapsed":5763,"user":{"displayName":"Atishay Jain","userId":"17142967310547488458"}},"outputId":"089b01ad-789b-4ca3-b6f9-2accbfc21b64"},"execution_count":1,"outputs":[{"output_type":"stream","name":"stdout","text":["Looking in indexes: https://pypi.org/simple, https://us-python.pkg.dev/colab-wheels/public/simple/\n","Collecting anaconda\n","  Downloading anaconda-0.0.1.1.tar.gz (726 bytes)\n","Building wheels for collected packages: anaconda\n","  Building wheel for anaconda (setup.py) ... \u001b[?25l\u001b[?25hdone\n","  Created wheel for anaconda: filename=anaconda-0.0.1.1-py3-none-any.whl size=1124 sha256=b2347b30f32a0a712f878be42be18c5007bba31540e306e62b35f656d7c435bf\n","  Stored in directory: /root/.cache/pip/wheels/70/29/df/a691ce9377d2b9b8ad2659144a1c4c51c216f2d8037b72dbc2\n","Successfully built anaconda\n","Installing collected packages: anaconda\n","Successfully installed anaconda-0.0.1.1\n"]}]},{"cell_type":"code","source":["!sudo apt-get install python3.10\n","!sudo update-alternatives --install /usr/bin/python3 python3 /usr/bin/python3.10 1\n","!sudo update-alternatives --set python3 /usr/bin/python3.10"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"_WMl_hZZXsNF","executionInfo":{"status":"ok","timestamp":1661403457823,"user_tz":-330,"elapsed":14481,"user":{"displayName":"Atishay Jain","userId":"17142967310547488458"}},"outputId":"e1f9b77a-32ff-42cc-f8c8-dede5e833fc8"},"execution_count":2,"outputs":[{"output_type":"stream","name":"stdout","text":["Reading package lists... Done\n","Building dependency tree       \n","Reading state information... Done\n","The following package was automatically installed and is no longer required:\n","  libnvidia-common-460\n","Use 'sudo apt autoremove' to remove it.\n","The following additional packages will be installed:\n","  libpython3.10-minimal libpython3.10-stdlib python3.10-minimal\n","Suggested packages:\n","  python3.10-venv binfmt-support\n","The following NEW packages will be installed:\n","  libpython3.10-minimal libpython3.10-stdlib python3.10 python3.10-minimal\n","0 upgraded, 4 newly installed, 0 to remove and 20 not upgraded.\n","Need to get 5,093 kB of archives.\n","After this operation, 19.5 MB of additional disk space will be used.\n","Get:1 http://ppa.launchpad.net/deadsnakes/ppa/ubuntu bionic/main amd64 libpython3.10-minimal amd64 3.10.6-1+bionic1 [823 kB]\n","Get:2 http://ppa.launchpad.net/deadsnakes/ppa/ubuntu bionic/main amd64 python3.10-minimal amd64 3.10.6-1+bionic1 [1,968 kB]\n","Get:3 http://ppa.launchpad.net/deadsnakes/ppa/ubuntu bionic/main amd64 libpython3.10-stdlib amd64 3.10.6-1+bionic1 [1,760 kB]\n","Get:4 http://ppa.launchpad.net/deadsnakes/ppa/ubuntu bionic/main amd64 python3.10 amd64 3.10.6-1+bionic1 [541 kB]\n","Fetched 5,093 kB in 4s (1,437 kB/s)\n","debconf: unable to initialize frontend: Dialog\n","debconf: (No usable dialog-like program is installed, so the dialog based frontend cannot be used. at /usr/share/perl5/Debconf/FrontEnd/Dialog.pm line 76, <> line 4.)\n","debconf: falling back to frontend: Readline\n","debconf: unable to initialize frontend: Readline\n","debconf: (This frontend requires a controlling tty.)\n","debconf: falling back to frontend: Teletype\n","dpkg-preconfigure: unable to re-open stdin: \n","Selecting previously unselected package libpython3.10-minimal:amd64.\n","(Reading database ... 155676 files and directories currently installed.)\n","Preparing to unpack .../libpython3.10-minimal_3.10.6-1+bionic1_amd64.deb ...\n","Unpacking libpython3.10-minimal:amd64 (3.10.6-1+bionic1) ...\n","Selecting previously unselected package python3.10-minimal.\n","Preparing to unpack .../python3.10-minimal_3.10.6-1+bionic1_amd64.deb ...\n","Unpacking python3.10-minimal (3.10.6-1+bionic1) ...\n","Selecting previously unselected package libpython3.10-stdlib:amd64.\n","Preparing to unpack .../libpython3.10-stdlib_3.10.6-1+bionic1_amd64.deb ...\n","Unpacking libpython3.10-stdlib:amd64 (3.10.6-1+bionic1) ...\n","Selecting previously unselected package python3.10.\n","Preparing to unpack .../python3.10_3.10.6-1+bionic1_amd64.deb ...\n","Unpacking python3.10 (3.10.6-1+bionic1) ...\n","Setting up libpython3.10-minimal:amd64 (3.10.6-1+bionic1) ...\n","Setting up libpython3.10-stdlib:amd64 (3.10.6-1+bionic1) ...\n","Setting up python3.10-minimal (3.10.6-1+bionic1) ...\n","Setting up python3.10 (3.10.6-1+bionic1) ...\n","Processing triggers for man-db (2.8.3-2ubuntu0.1) ...\n","Processing triggers for mime-support (3.60ubuntu1) ...\n","update-alternatives: using /usr/bin/python3.10 to provide /usr/bin/python3 (python3) in manual mode\n"]}]},{"cell_type":"code","source":[" !pip install -U layoutparser"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"pftlrtnJZ0Qs","executionInfo":{"status":"ok","timestamp":1661403457825,"user_tz":-330,"elapsed":73,"user":{"displayName":"Atishay Jain","userId":"17142967310547488458"}},"outputId":"4baa2541-9706-4fdb-8fdd-0585bfe67197"},"execution_count":3,"outputs":[{"output_type":"stream","name":"stdout","text":["Traceback (most recent call last):\n","  File \"/usr/local/bin/pip3\", line 5, in <module>\n","    from pip._internal.cli.main import main\n","ModuleNotFoundError: No module named 'pip'\n"]}]},{"cell_type":"code","source":["!pip install layoutparser torchvision && pip install \"detectron2@git+https://github.com/facebookresearch/detectron2.git@v0.5#egg=detectron2\""],"metadata":{"id":"A2UmumJpbOkK","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1661403457830,"user_tz":-330,"elapsed":68,"user":{"displayName":"Atishay Jain","userId":"17142967310547488458"}},"outputId":"714f1432-13e7-46fe-89eb-17c42bbeb784"},"execution_count":4,"outputs":[{"output_type":"stream","name":"stdout","text":["Traceback (most recent call last):\n","  File \"/usr/local/bin/pip3\", line 5, in <module>\n","    from pip._internal.cli.main import main\n","ModuleNotFoundError: No module named 'pip'\n"]}]},{"cell_type":"code","source":["!pip install pdf2img"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"wK_RbsWCdK7i","executionInfo":{"status":"ok","timestamp":1661403457831,"user_tz":-330,"elapsed":63,"user":{"displayName":"Atishay Jain","userId":"17142967310547488458"}},"outputId":"2399ab95-d1ed-44fe-cf4e-80fb19e2f72c"},"execution_count":5,"outputs":[{"output_type":"stream","name":"stdout","text":["Traceback (most recent call last):\n","  File \"/usr/local/bin/pip3\", line 5, in <module>\n","    from pip._internal.cli.main import main\n","ModuleNotFoundError: No module named 'pip'\n"]}]},{"cell_type":"code","source":["import pdf2image\n","import numpy as np"],"metadata":{"id":"40TiAIJedyer","colab":{"base_uri":"https://localhost:8080/","height":321},"executionInfo":{"status":"error","timestamp":1661403457833,"user_tz":-330,"elapsed":58,"user":{"displayName":"Atishay Jain","userId":"17142967310547488458"}},"outputId":"ccc203a4-44df-408d-943e-ef0a1a6c2fd5"},"execution_count":6,"outputs":[{"output_type":"error","ename":"ModuleNotFoundError","evalue":"ignored","traceback":["\u001b[0;31m---------------------------------------------------------------------------\u001b[0m","\u001b[0;31mModuleNotFoundError\u001b[0m                       Traceback (most recent call last)","\u001b[0;32m<ipython-input-6-fbbcdc2e4b59>\u001b[0m in \u001b[0;36m<module>\u001b[0;34m\u001b[0m\n\u001b[0;32m----> 1\u001b[0;31m \u001b[0;32mimport\u001b[0m \u001b[0mpdf2image\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m      2\u001b[0m \u001b[0;32mimport\u001b[0m \u001b[0mnumpy\u001b[0m \u001b[0;32mas\u001b[0m \u001b[0mnp\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;31mModuleNotFoundError\u001b[0m: No module named 'pdf2image'","","\u001b[0;31m---------------------------------------------------------------------------\u001b[0;32m\nNOTE: If your import is failing due to a missing package, you can\nmanually install dependencies using either !pip or !apt.\n\nTo view examples of installing some common dependencies, click the\n\"Open Examples\" button below.\n\u001b[0;31m---------------------------------------------------------------------------\u001b[0m\n"],"errorDetails":{"actions":[{"action":"open_url","actionText":"Open Examples","url":"/notebooks/snippets/importing_libraries.ipynb"}]}}]},{"cell_type":"code","source":["!sudo apt-get install poppler-utils"],"metadata":{"id":"T_IGC2speo2V","executionInfo":{"status":"aborted","timestamp":1661403457835,"user_tz":-330,"elapsed":36,"user":{"displayName":"Atishay Jain","userId":"17142967310547488458"}}},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["\n","pdf_file= '/content/Atishay\\'s Resume.pdf'\n","img = np.asarray(pdf2image.convert_from_path(pdf_file)[0])"],"metadata":{"id":"L3zelqKVdjw3","executionInfo":{"status":"aborted","timestamp":1661403457838,"user_tz":-330,"elapsed":39,"user":{"displayName":"Atishay Jain","userId":"17142967310547488458"}}},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["from google.colab import drive\n","drive.mount('/content/drive')"],"metadata":{"id":"tOfINxTnWMQ_","executionInfo":{"status":"aborted","timestamp":1661403457840,"user_tz":-330,"elapsed":40,"user":{"displayName":"Atishay Jain","userId":"17142967310547488458"}}},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["import layoutparser as lp\n","\n","model = lp.Detectron2LayoutModel('lp://PubLayNet/mask_rcnn_X_101_32x8d_FPN_3x/config',\n","                                 extra_config=[\"MODEL.ROI_HEADS.SCORE_THRESH_TEST\", 0.5],\n","                                 label_map={0: \"Text\", 1: \"Title\", 2: \"List\", 3:\"Table\", 4:\"Figure\"})\n"],"metadata":{"id":"d__xMDdCePY_","executionInfo":{"status":"aborted","timestamp":1661403457847,"user_tz":-330,"elapsed":47,"user":{"displayName":"Atishay Jain","userId":"17142967310547488458"}}},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["layout_result = model.detect(img)"],"metadata":{"id":"qPA2fyX4e7vb","executionInfo":{"status":"aborted","timestamp":1661403457850,"user_tz":-330,"elapsed":49,"user":{"displayName":"Atishay Jain","userId":"17142967310547488458"}}},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["layout_result"],"metadata":{"id":"XxpMMw6AfYW1","executionInfo":{"status":"aborted","timestamp":1661403457851,"user_tz":-330,"elapsed":50,"user":{"displayName":"Atishay Jain","userId":"17142967310547488458"}}},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["\n","lp.draw_box(img, layout_result,  box_width=5, box_alpha=0.2, show_element_type=True)"],"metadata":{"id":"BfcrDSChfeMT","executionInfo":{"status":"aborted","timestamp":1661403457852,"user_tz":-330,"elapsed":50,"user":{"displayName":"Atishay Jain","userId":"17142967310547488458"}}},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["text_blocks = lp.Layout([b for b in layout_result if b.type=='text'])\n","text_blocks\n","\n"],"metadata":{"id":"Ut6HzceciW8r","executionInfo":{"status":"aborted","timestamp":1661403457853,"user_tz":-330,"elapsed":51,"user":{"displayName":"Atishay Jain","userId":"17142967310547488458"}}},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["Figure_blocks = lp.Layout([b for b in layout_result if b.type=='Figure'])"],"metadata":{"id":"FZPWSIR0llZ1","executionInfo":{"status":"aborted","timestamp":1661403457854,"user_tz":-330,"elapsed":52,"user":{"displayName":"Atishay Jain","userId":"17142967310547488458"}}},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["Figure_blocks"],"metadata":{"id":"-tze7ZDRlmpt","executionInfo":{"status":"aborted","timestamp":1661403457854,"user_tz":-330,"elapsed":52,"user":{"displayName":"Atishay Jain","userId":"17142967310547488458"}}},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["ocr_agent = lp.TesseractAgent(languages='eng')"],"metadata":{"id":"jRynvlv3l42k","executionInfo":{"status":"aborted","timestamp":1661403457856,"user_tz":-330,"elapsed":54,"user":{"displayName":"Atishay Jain","userId":"17142967310547488458"}}},"execution_count":null,"outputs":[]},{"cell_type":"code","source":[],"metadata":{"id":"rf1wKjhoWukv","executionInfo":{"status":"aborted","timestamp":1661403457857,"user_tz":-330,"elapsed":22011,"user":{"displayName":"Atishay Jain","userId":"17142967310547488458"}}},"execution_count":null,"outputs":[]}],"metadata":{"colab":{"name":"Layout parser","provenance":[],"authorship_tag":"ABX9TyMb0v1lBMvQBskG67sKJW1S"},"kernelspec":{"display_name":"Python 3","name":"python3"},"language_info":{"name":"python"}},"nbformat":4,"nbformat_minor":0}